<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
<script type="module" src="/public/scripts/zebra-print/labeldesigner.js"></script>

<style>
    body {
        display: flex;
        gap: 20px;
        font-family: sans-serif;
        padding: 20px;
    }
    canvas {
        border: 1px dashed #aaa;
    }
    #sidebar {
        max-width: 250px;
        width: 100%;
    }
    #sidebar label {
        font-weight: bold;
        display: block;
        margin-top: 10px;
    }
    #sidebar input {
        width: 100%;
        margin-bottom: 5px;
    }
    #output {
        max-height: 300px;
        overflow: auto;
        font-size: 12px;
        background: #f9f9f9;
        padding: 10px;
        border: 1px solid #ccc;
    }
</style>

<div>
    <div id="controls">
        <label>Ancho (mm): <input id="label-width" value="80" type="number" step="0.1" /></label>
        <label>Alto (mm): <input id="label-height" value="25.4" type="number" step="0.1" /></label>
        <button onclick="setLabelSize()">Aplicar tamaño</button>
        <hr />
        <button onclick="addText()">Agregar texto</button>
        <button onclick="addQR()">Agregar QR</button>
        <button onclick="getLabelJson()">Obtener JSON</button>
        <button onclick="addStaticLabel()">Agregar label estático</button>
        <button onclick="addDataMatrix()">Agregar DataMatrix</button>
    </div>
    <br />
    <canvas id="label-canvas" width="640" height="203"></canvas>
    <pre id="output"></pre>
</div>

<div id="sidebar">
    <h3>Propiedades</h3>
    <label>ID</label>
    <input type="text" id="prop-id" />

    <label>Texto/QR</label>
    <input type="text" id="prop-text" />

    <label>X (mm)</label>
    <input type="number" id="prop-left" step="0.1" />

    <label>Y (mm)</label>
    <input type="number" id="prop-top" step="0.1" />

    <label>Tamaño (mm)</label>
    <input type="number" id="prop-size" step="0.1" />

    <button onclick="applyChanges()">Aplicar cambios</button>
</div>
